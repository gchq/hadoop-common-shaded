language: java
jdk: oraclejdk8

script: ./gradlew clean build shadowJar

# Push to GitHub releases - the key was generated by the Travis CLI.
deploy:
  provider: releases
  api_key:
    secure: IIChC567etdmswCEbASjsH0UpGhrKRKDO4X3+ozE9cRh99XBjuDBY/4F3Jo9wOj3TemWNUBXPXQbp+DBWSei2sSDLhJbTQu8tdfTBp+xiz5XGzy23XxVG7JXmxBHiOlvfnhT6d8/uJxVwTMu6hqAENeyvZxZXxBa2N5C+MBq1z+F+IFR5+suwH8aOCtS033RM+WY0TCCMP6tuiaUixSCcbz+O8z7fZVsCYgminV2YfBzF+IWvaXNot03I2Rj0QeIyYjzdWNl/Ll8L6sD9rLcT5RUPeF8e4N9Ekwa9MaIkI7lmH2lJfNDI5O0wH1IWdHObwRsTfZH/XJDYAXoQWbmmh0jQ68YM8CR8Ri5cWO3VZ+rQJwEht9KgDEU7YMpzRUlEw+tym/aOewnUyAoT+MyHjdMaHVysXBlk7ruy3Xkfa1trVt+kexvfay5/B+2taFG0yh6RGelaWnLak2wSbEqvBDenAVesNnTvssh75CCZewgLEKHi3xkruwSuNW/cyeD2Qmn4iY/ECdPmk8Wz3ZkZclxJRooxHrMVRt1WUlELsePWgz+ukTO6RR8pAaDivMd7d9YmygogmsfS9QmzHEfRNe/JPzFsWpbrpvK1xyONkZsgVKYHCue3dtN2u/n3tmjWWRXdPVMZvDuloHiVG9Q2eMvqWlLhDnVtYGtUxkLDuE=
  file_glob: true
  file: build/libs/hadoop-common-shaded-*-all.jar
  skip_cleanup: true
  on:
    tags: true

cache:
  directories:
  - .autoconf
  - $HOME/.m2
  - $HOME/.gradle/wrapper
